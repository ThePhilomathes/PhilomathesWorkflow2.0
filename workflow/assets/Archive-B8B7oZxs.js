import{_ as g}from"./plugin-vueexport-helper-DlAUqK2U.js";import{x as u,c as x,h as y,o as k}from"./index-BqWEz2jT.js";const b={class:"w-full bg-sky-50 min-h-screen flex flex-col"},w={__name:"Archive",setup(S){return u(()=>{let n=JSON.parse(localStorage.getItem("workflowArchive"))||[];const o=document.getElementById("cardContainer"),v=document.getElementById("emptyState"),p=document.getElementById("panelContent");function m(){localStorage.setItem("workflowArchive",JSON.stringify(n))}function f(c){localStorage.setItem("workflows",JSON.stringify(c))}function i(c){if(o.innerHTML="",p.innerHTML="",c.length===0){v.classList.remove("hidden");return}v.classList.add("hidden"),c.forEach((e,a)=>{const t=document.createElement("div");t.className="workflow-card bg-white shadow-md rounded-lg border border-sky-200",t.style.animationDelay=`${a*.15}s`;let s="bg-red-100 text-red-700";e.Status==="For Approval"&&(s="bg-yellow-100 text-yellow-700"),e.Status==="Approved"&&(s="bg-green-100 text-green-700");const r=document.createElement("div");r.className="flex justify-between items-center p-4 bg-sky-50 rounded-t-lg",r.innerHTML=`
          <span class="font-bold text-sky-800">
            Department: ${e.Department||""} | Activity: ${e["Activity Name (if applicable)"]||""}
          </span>
          <span class="px-2 py-1 rounded text-xs ${s}">${e.Status}</span>
        `;const l=document.createElement("div");l.className="p-4",l.innerHTML=`
          <div><strong>Task Name:</strong> ${e["Task Name"]||""}</div>
          <div><strong>KPI:</strong> ${e["Task KPI"]||""}</div>
          <div><strong>Workflow Name:</strong> ${e["Workflow Name"]||""}</div>
          <div><strong>Archived At:</strong> ${e.archivedAt||"N/A"}</div>
          <button class="bg-green-100 hover:bg-green-200 text-green-700 font-semibold px-3 py-1 rounded text-xs restoreBtn">
            Restore Workflow
          </button>
        `,l.querySelector(".restoreBtn").addEventListener("click",()=>{let h=JSON.parse(localStorage.getItem("workflows"))||[];h.push(e),f(h),n.splice(a,1),m(),i(n)}),t.appendChild(r),t.appendChild(l),o.appendChild(t)});const d={};c.forEach((e,a)=>{d[e.Department]||(d[e.Department]=[]),d[e.Department].push({...e,index:a})}),Object.keys(d).forEach(e=>{const a=document.createElement("div");a.className="sidebar-dept",a.innerHTML=`<h3 class="font-bold">${e}</h3>`,d[e].forEach(t=>{const s=document.createElement("div");s.className="sidebar-item text-sm",s.innerHTML=`
            <span class="cursor-pointer text-sky-700 hover:underline">${t["Workflow Name"]}</span>
            <button class="text-green-600 hover:text-green-800 text-xs restoreBtn">â†© Restore</button>
          `,s.querySelector("span").addEventListener("click",()=>{o.children[t.index].scrollIntoView({behavior:"smooth",block:"center"})}),s.querySelector(".restoreBtn").addEventListener("click",()=>{let r=JSON.parse(localStorage.getItem("workflows"))||[];t.archivedAt=new Date().toLocaleString(),r.push(t),localStorage.setItem("workflows",JSON.stringify(r)),n.splice(t.index,1),m(),i(n)}),a.appendChild(s)}),p.appendChild(a)})}i(n)}),(n,o)=>(k(),x("div",b,[...o[0]||(o[0]=[y('<nav class="w-full bg-sky-800 text-white px-6 py-3 flex justify-between items-center shadow" data-v-154481c2><span class="font-bold text-lg" data-v-154481c2>Workflow System</span><div class="flex gap-4" data-v-154481c2><a href="dashboard.html" class="hover:bg-sky-700 px-3 py-2 rounded" data-v-154481c2>Dashboard</a><a href="manual-input.html" class="hover:bg-sky-700 px-3 py-2 rounded" data-v-154481c2>Manual Input</a><a href="archive.html" class="bg-sky-600 px-3 py-2 rounded" data-v-154481c2>Archive</a></div></nav><div class="flex flex-1" data-v-154481c2><aside id="managementPanel" class="w-64 bg-sky-100 border-r border-sky-300 p-4 overflow-y-auto flex-shrink-0" data-v-154481c2><h2 class="font-bold text-sky-800 mb-4" data-v-154481c2>Archived Workflows</h2><div id="panelContent" class="space-y-4" data-v-154481c2></div></aside><main class="flex-1 p-6 flex flex-col items-center justify-start" id="mainContent" data-v-154481c2><div class="w-full max-w-5xl bg-white shadow-xl rounded-xl border border-sky-200 overflow-hidden" data-v-154481c2><div class="bg-gradient-to-r from-sky-800 to-sky-600 p-6" data-v-154481c2><h1 class="text-2xl font-bold text-white" data-v-154481c2>Archive Dashboard</h1></div><div class="p-8" data-v-154481c2><div id="cardContainer" class="space-y-4" data-v-154481c2></div><div id="emptyState" class="flex flex-col items-center justify-center mt-12 text-sky-700" data-v-154481c2><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4 text-sky-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-154481c2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-6h6v6h5v2H4v-2h5z" data-v-154481c2></path></svg><p class="italic text-lg" data-v-154481c2>No archived workflows yet.</p></div></div></div></main></div>',2)])]))}},C=g(w,[["__scopeId","data-v-154481c2"]]);export{C as default};
