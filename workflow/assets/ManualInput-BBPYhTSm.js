import{x as h,c as g,a as d,h as k,f as x,o as b}from"./index-B2Z-3kuf.js";const w={class:"flex-1 p-6 flex flex-col items-center justify-start w-full",id:"mainContent"},f={class:"w-full max-w-5xl bg-white shadow-xl rounded-xl border border-sky-200 overflow-hidden"},I={class:"bg-gradient-to-r from-sky-800 to-sky-600 p-6 flex justify-between items-center"},N={class:"flex gap-3"},A={__name:"ManualInput",setup(S){h(()=>{let s=JSON.parse(localStorage.getItem("workflows"))||[];const t=document.getElementById("workflowForm"),c=document.getElementById("workflowBody");function u(){localStorage.setItem("workflows",JSON.stringify(s))}t.addEventListener("submit",a=>{a.preventDefault();const r={Department:department.value,"Workflow Name":workflowName.value,"Task Name":taskName.value,"Task Identification":taskId.value,"Task KPI":taskKpi.value,"File Name":fileName.value,"Folder Name":folderName.value,"Activity Name (if applicable)":activityName.value,Steps:steps.value,Scenarios:scenarios.value,Status:state.value,uploadedAt:new Date().toLocaleString(),editedAt:null};s.push(r),u(),l(),t.reset()});function l(){c.innerHTML="";const a=document.getElementById("searchInput").value.toLowerCase(),r=document.getElementById("departmentFilter").value,p=document.getElementById("statusFilter").value,v=s.filter(e=>{const n=r?e.Department===r:!0,o=p?e.Status===p:!0,i=e.Department.toLowerCase().includes(a)||e["Workflow Name"].toLowerCase().includes(a)||e["Task Name"].toLowerCase().includes(a)||e["Task KPI"].toLowerCase().includes(a)||e.Status.toLowerCase().includes(a);return n&&o&&i}),y=document.getElementById("filterSummary");y.innerHTML=`Showing ${v.length} workflow(s)`+(p?` with status "<span class='filter-link' data-type='status' data-value='${p}'>${p}</span>"`:"")+(r?` in "<span class='filter-link' data-type='department' data-value='${r}'>${r}</span>" department`:"")+(a?` matching "<span class='filter-link' data-type='search' data-value='${a}'>${a}</span>"`:""),y.querySelectorAll(".filter-link").forEach(e=>{e.style.cursor="pointer",e.style.textDecoration="underline",e.addEventListener("click",()=>{const n=e.dataset.type,o=e.dataset.value;n==="department"?document.getElementById("departmentFilter").value=o:n==="status"?document.getElementById("statusFilter").value=o:n==="search"&&(document.getElementById("searchInput").value=o),l()})}),v.forEach((e,n)=>{const o=document.createElement("tr");o.innerHTML=`
        <td class="p-2">${e.Department}</td>
        <td class="p-2">${e["Workflow Name"]}</td>
        <td class="p-2">${e["Task Name"]}</td>
        <td class="p-2">${e["Task KPI"]}</td>
        <td class="p-2">
          <select class="border rounded px-2 py-1 text-sm">
            <option value="Pending/Under Review" ${e.Status==="Pending/Under Review"?"selected":""}>Pending/Under Review</option>
            <option value="For Approval" ${e.Status==="For Approval"?"selected":""}>For Approval</option>
            <option value="Approved" ${e.Status==="Approved"?"selected":""}>Approved</option>
          </select>
        </td>
        <td class="p-2">
          <button class="bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-2 py-1 rounded text-xs editBtn">Edit</button>
          <button class="bg-red-100 hover:bg-red-200 text-red-700 px-2 py-1 rounded text-xs deleteBtn">Delete</button>
        </td>
      `,o.querySelector("select").addEventListener("change",i=>{e.Status=i.target.value,e.editedAt=new Date().toLocaleString(),u()}),o.querySelector(".editBtn").addEventListener("click",()=>{department.value=e.Department,workflowName.value=e["Workflow Name"],taskName.value=e["Task Name"],taskId.value=e["Task Identification"],taskKpi.value=e["Task KPI"],fileName.value=e["File Name"],folderName.value=e["Folder Name"],activityName.value=e["Activity Name (if applicable)"],steps.value=e.Steps,scenarios.value=e.Scenarios,console.log(taskKpi.value),s.splice(n,1),u(),l()}),o.querySelector(".deleteBtn").addEventListener("click",()=>{let i=JSON.parse(localStorage.getItem("workflowArchive"))||[];e.archivedAt=new Date().toLocaleString(),i.push(e),localStorage.setItem("workflowArchive",JSON.stringify(i)),s.splice(n,1),u(),l()}),c.appendChild(o)})}document.getElementById("searchInput").addEventListener("input",l),document.getElementById("departmentFilter").addEventListener("change",l),document.getElementById("statusFilter").addEventListener("change",l),document.getElementById("clearFiltersBtn").addEventListener("click",()=>{document.getElementById("searchInput").value="",document.getElementById("departmentFilter").value="",document.getElementById("statusFilter").value="",l()}),l()});const m=s=>{x.push({name:s})};return(s,t)=>(b(),g("div",w,[d("div",f,[d("div",I,[t[3]||(t[3]=d("h1",{class:"text-2xl font-bold text-white"},"Manual Workflow Input",-1)),d("div",N,[d("a",{onClick:t[0]||(t[0]=c=>m("WorkflowAdmin")),class:"bg-sky-600 text-white px-4 py-2 rounded-lg shadow hover:bg-sky-500 transition"}," Dashboard "),d("a",{onClick:t[1]||(t[1]=c=>m("Archive")),class:"bg-sky-600 text-white px-4 py-2 rounded-lg shadow hover:bg-sky-500 transition"}," Archive "),t[2]||(t[2]=d("button",{id:"toggleSidebarBtn",class:"bg-white text-sky-800 px-4 py-2 rounded-lg shadow hover:bg-sky-100 transition"}," Toggle Sidebar ",-1))])]),t[4]||(t[4]=k('<div class="w-full min-h-screen max-w-4xl mx-auto bg-white shadow-xl rounded-xl border border-sky-200 p-6 mt-6"><form id="workflowForm" class="grid grid-cols-2 gap-4 mb-6"><select id="department" class="border rounded px-3 py-2" required><option value="">Select Department</option><option value="Finance">Finance</option><option value="HR">HR</option><option value="IT">IT</option><option value="Operations">Operations</option></select><input type="text" id="workflowName" placeholder="Workflow Name" class="border rounded px-3 py-2" required><input type="text" id="taskName" placeholder="Task Name" class="border rounded px-3 py-2"><input type="text" id="taskId" placeholder="Task Identification" class="border rounded px-3 py-2"><select id="taskKpi" class="border rounded px-3 py-2"><option value="">Select KPI</option><option value="Accuracy">Accuracy</option><option value="Efficiency">Efficiency</option><option value="Compliance">Compliance</option><option value="Timeliness">Timeliness</option></select><input type="text" id="fileName" placeholder="File Name" class="border rounded px-3 py-2"><input type="text" id="folderName" placeholder="Folder Name" class="border rounded px-3 py-2"><input type="text" id="activityName" placeholder="Activity Name (if applicable)" class="border rounded px-3 py-2"><textarea id="steps" placeholder="Steps" class="border rounded px-3 py-2 col-span-2"></textarea><textarea id="scenarios" placeholder="Scenarios" class="border rounded px-3 py-2 col-span-2"></textarea><select id="state" class="border rounded px-3 py-2 col-span-2"><option value="Pending/Under Review">Pending/Under Review</option><option value="For Approval">For Approval</option><option value="Approved">Approved</option></select><button type="submit" class="col-span-2 bg-sky-800 text-white px-4 py-2 rounded hover:bg-sky-700"> Add Workflow </button></form><div class="flex gap-4 mb-4"><input type="text" id="searchInput" placeholder="Search workflows..." class="border rounded px-3 py-2 flex-1"><select id="departmentFilter" class="border rounded px-3 py-2"><option value="">All Departments</option><option value="Finance">Finance</option><option value="HR">HR</option><option value="IT">IT</option><option value="Operations">Operations</option></select><select id="statusFilter" class="border rounded px-3 py-2"><option value="">All Statuses</option><option value="Pending/Under Review">Pending/Under Review</option><option value="For Approval">For Approval</option><option value="Approved">Approved</option></select><button id="clearFiltersBtn" class="bg-sky-600 text-white px-4 py-2 rounded-lg shadow hover:bg-sky-500 transition"> Clear Filters </button></div><div id="filterSummary" class="mb-4 text-sky-700 font-semibold"></div><table id="workflowTable" class="rounded-lg overflow-hidden shadow w-full"><thead><tr class="bg-sky-50 text-sky-800"><th class="p-2">Department</th><th class="p-2">Workflow Name</th><th class="p-2">Task Name</th><th class="p-2">KPI</th><th class="p-2">Status</th><th class="p-2">Actions</th></tr></thead><tbody id="workflowBody"></tbody></table></div>',1))])]))}};export{A as default};
